# Version de docker-composer souhait√©e
version : "3.7"

services :
    
    php_apache :
        build : ./
        ports :
            - 80:80
        volumes :
            - ./:/var/www/html
        tty: true
        links :
            - bdd:bdd
        environment:
            MYSQL_HOST : bdd
            MYSQL_USER : root
            MYSQL_PASSWORD : root
    
    composer :
        image : composer:1.9.3
        ports :
            - 8080:80
        links :
            - php_apache:php_apache
        volumes :
            - hotfolder_composer:/usr/bin/

    bdd :
        image : mariadb:10.5.1
        ports :
            - 3307:3306
        restart : always
        volumes :
            - hotfolder_bdd:/var/lib/mariadb
        environment : 
            MYSQL_ROOT_USER : root
            MYSQL_ROOT_PASSWORD : root
            MYSQL_USER : symfony
            MYSQL_PASSWORD : symfony
        tty: true
volumes: 
    hotfolder_bdd:
    hotfolder_composer: